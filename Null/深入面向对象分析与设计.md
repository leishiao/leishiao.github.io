# 深入面向对象分析与设计

为什么要实现OOA&D------写出美妙的软件；

UML只是辅助工具，开发软件的首要任务是花时间把各个议题想清楚

如何分析、设计以及编写真正面向对象的软件；

## 1、良好应用程序的基石，伟大的软件由此开始

那么如何写出真正写出伟大的软件？

伟大软件使用千锤百炼过的设计模式与原则，让对象保持低耦合。

伟大软件让客户满意，也让程序设计师满意：

- 第一，伟大软件必须让客户满意，做客户要它做的事
- 第二，伟大软件是well-designed，well-coded，并且易于维护，重用及扩展。

伟大软件的简易三步骤：

1、确认你的软件做客户要它做的事。（requirement and analysis）

2、运用基本的OO原则来增加软件的灵活性。（使用良好的OO编程技术）

3、努力实现可维护，可重用的设计。（使用设计模式与OO原则确保软件就绪）

枚举类型让你定义一个类型（type）名称，接着是该类型所允许的一组值。这是一种很好的方式，不仅确保类型安全，也确保值安全。对任何具有标准范围或合法值得东西都能避免取得坏数据。采用枚举类型，可以确保只有有效的值会被接受。

在精心应用设计模式或试图进行真正的重新结构化之前，你要确认应用程序尽了它的职责。

在设法让软件正确运作时，会对它做许多改变。把基本功能完成之前，进行过多的设计工作最后变成一种浪费，因为许多设计可能随着你把新功能片段增加到类与方法中而产生改变。

为正在试图解决的问题用文字描述清楚，确保你的设计与应用程序想实现的功能一致。

每个对象忠于自己的工作，发挥最大的能力：

1、对象应该做其名称所指之事

2、每个对象应该代表单一概念，不要让对象负担双重或三重责任

3、未使用的特性是无用的赠品

把Guitar里的特性都封装（encapsulate）到一个新对象中。当你把行为从类中分解出来你能改变该行为而无需改变该类。通过分解出应用程序的不同部分，你能改变一部分而不需改变整个应用程序。一般而言，你应该封装应用程序中变化可能很大的部分，让他们远离保持不变的部分。

任何时候看到重复程序代码，就找个地方进行封装。从你能使用封装的地方开始改善你的设计往往是个好主意。

问题：增加新特性到GuitarSpec.java导致Guitar.java与Inventory.java中的程序代码的改变。应用程序应该被重新结构化，以便增加新特性到GuitarSpec.java时不会影响应用程序其他部分的程序代码。

委托：一个对象将操作转交给另一个对象的动作，第二个对象代表第一个对象执行该操作。

委托让你的程序代码更能重复利用，也让每个对象关注自己的功能，而不是把处理单一对象行为的代码分散在整个应用程序中。Java里最普通的委托范例之一就是equals（）方法。不是在方法中考量两个对象是否相等，而是调用一个对象的equals（）方法并传入第二个对象，接着从equals方法得到true或false的响应。委托让每个对象自己去担心相等性（或某种其他工作）。

低耦合意味着应用程序里的各个对象各有特定工作要做，而且只做那项工作。因此应用程序的功能被分散给许多定义良好的对象，他们各自将单一工作做得很好。低耦合的对象能从一个应用程序中被去除，然后轻易在另一个应用程序中被重用，因为他们并未紧密联系到其他对象的程序代码。

如何贯彻始终地编写出伟大软件？你需要的就是一组可遵循的步骤，确保你的软件能运作并且设计良好，容易改变，可重用。

要点：

- 脆弱的应用程序是很容易出错的。
- 你能运用像封装与委托这样的OO原则建立灵活的应用程序。
- 封装将你的应用程序分解成逻辑部件。
- 委托将处理特定工作的责任转交给另一个对象。
- 总是通过整理出客户要什么来启动你的项目。
- 以但完成基本功能，就重新细化你的设计，让它更灵活。
- 有了符合功能并具有灵活性的设计，便能运用设计模式进一步改善你的设计，让应用程序更容易重用。
- 找出应用程序经常改变的部分，试着将他们与其他不改变的地方分开。
- 建立运作无误但设计不良的应用程序满足了你的客户，却给自己留下了痛苦以及无数个修改问题的不眠之夜。
- 面向对象分析与设计（OOA&D)提供了一种产生设计良好的应用程序的方法，同时满足客户与设计师。













